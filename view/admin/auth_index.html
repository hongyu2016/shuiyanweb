{% extends "./base.html" %}
{% block main %}
    <!--<link rel="stylesheet" href="/static/plugins/ztree/css/zTreeStyle/zTreeStyle.css" type="text/css">
    <style type="text/css">
        .ztree *{
            font-size: 14px;
        }
        .ztree li span.button.add {
            margin-left:2px;
            margin-right: -1px;
            background-position:-144px 0;
            vertical-align:top;
            *vertical-align:middle
        }
    </style>
    <script type="text/javascript" src="/static/plugins/ztree/jquery.ztree.all.min.js"></script>-->

    <!--<ul id="treeDemo" class="ztree"></ul>-->

    <!--<div class="operate">
        <div class="btn-group">
            <a href="/role/add?menu_id=4" class="btn btn-info btn-flat">添加权限</a>
        </div>
    </div>
    <div class="box-body table-responsive no-padding">
        <table class="table table-hover table-bordered">
            <thead>
            <tr>
                <td>
                    序号
                </td>
                <td>
                    模块（菜单）
                </td>
                <td>
                    操作权限
                </td>
            </tr>
            </thead>
            <tbody>

            <tr>
                <td></td>
                <td>
                    用户管理/权限管理
                </td>
                <td>
                    <ul class="clearfix auth-list">
                        <li class="pull-left">
                            添加权限<i class="fa fa-edit"></i><i class="fa fa-trash"></i>
                        </li>
                    </ul>
                </td>
                <td>

                </td>
            </tr>
            <tr>
                <td></td>
                <td>
                    用户管理/角色管理
                </td>
                <td>
                    <ul class="clearfix auth-list">
                        <li class="pull-left">
                            添加角色<i class="fa fa-edit"></i><i class="fa fa-trash"></i>
                        </li>
                        <li class="pull-left">
                            角色成员<i class="fa fa-edit"></i><i class="fa fa-trash"></i>
                        </li>
                        <li class="pull-left">
                            分配权限<i class="fa fa-edit"></i><i class="fa fa-trash"></i>
                        </li>
                        <li class="pull-left">
                            编辑<i class="fa fa-edit"></i><i class="fa fa-trash"></i>
                        </li>
                        <li class="pull-left">
                            禁用<i class="fa fa-edit"></i><i class="fa fa-trash"></i>
                        </li>
                        <li class="pull-left">
                            删除<i class="fa fa-edit"></i><i class="fa fa-trash"></i>
                        </li>
                    </ul>
                </td>
            </tr>

            </tbody>
        </table>
    </div>-->

    <!--<script>
	    var setting = {
		    view: {
			    addHoverDom: addHoverDom,
			    removeHoverDom: removeHoverDom,
			    selectedMulti: false
		    },
		    edit: {
			    enable: true,
			    editNameSelectAll: true,
			    showRemoveBtn: showRemoveBtn,
			    showRenameBtn: showRenameBtn
		    },
		    data: {
			    simpleData: {
				    enable: true
			    }
		    },
		    callback: {
			    beforeDrag: beforeDrag,
			    beforeEditName: beforeEditName,
			    beforeRemove: beforeRemove,
			    beforeRename: beforeRename,
			    onRemove: onRemove,
			    onRename: onRename
		    }
	    };

	    var zNodes =[
		    { name:"用户管理", open:true,
			    children: [
				    { name:"前台用户管理",
					    children: [
						    { name:"叶子节点111",isMenu:'0'},
						    { name:"叶子节点112",isMenu:'1'},
						    { name:"叶子节点113",isMenu:'0'},
						    { name:"叶子节点114",isMenu:'0'}
					    ]},
				    { name:"后台用户管理",
					    children: [
						    { name:"叶子节点111"},
						    { name:"叶子节点112"},
						    { name:"叶子节点113"},
						    { name:"叶子节点114"}
					    ]},
			    ]},
		    { name:"父节点2 - 折叠",
			    children: [
				    { name:"叶子节点211"},
				    { name:"叶子节点212"},
				    { name:"叶子节点213"},
				    { name:"叶子节点214"},
				    { name:"叶子节点221"},
				    { name:"叶子节点222"},
				    { name:"叶子节点223"},
				    { name:"叶子节点224"},
				    { name:"叶子节点231"},
				    { name:"叶子节点232"},
				    { name:"叶子节点233"},
				    { name:"叶子节点234"}
			    ]},
		    { name:"父节点3 - 没有子节点", isParent:true}

	    ];
	    var log, className = "dark";
	    function beforeDrag(treeId, treeNodes) {
		    return false;
	    }
	    function beforeEditName(treeId, treeNode) {
	    	console.log(treeNode.isMenu)
		    className = (className === "dark" ? "":"dark");
		    var zTree = $.fn.zTree.getZTreeObj("treeDemo");
		    zTree.selectNode(treeNode);
		    setTimeout(function() {
			    if (confirm("进入节点 &#45;&#45; " + treeNode.name + " 的编辑状态吗？")) {
				    setTimeout(function() {
					    zTree.editName(treeNode);
				    }, 0);
			    }
		    }, 0);
		    return false;
	    }
	    function beforeRemove(treeId, treeNode) {
		    className = (className === "dark" ? "":"dark");

		    var zTree = $.fn.zTree.getZTreeObj("treeDemo");
		    zTree.selectNode(treeNode);
		    return confirm("确认删除 节点 &#45;&#45; " + treeNode.name + " 吗？");
	    }
	    function onRemove(e, treeId, treeNode) {
		    //showLog("[ "+getTime()+" onRemove ]&nbsp;&nbsp;&nbsp;&nbsp; " + treeNode.name);
	    }
	    function beforeRename(treeId, treeNode, newName, isCancel) {
		    className = (className === "dark" ? "":"dark");
		    showLog((isCancel ? "<span style='color:red'>":"") + "[ "+getTime()+" beforeRename ]&nbsp;&nbsp;&nbsp;&nbsp; " + treeNode.name + (isCancel ? "</span>":""));
		    if (newName.length == 0) {
			    setTimeout(function() {
				    var zTree = $.fn.zTree.getZTreeObj("treeDemo");
				    zTree.cancelEditName();
				    alert("节点名称不能为空.");
			    }, 0);
			    return false;
		    }
		    return true;
	    }
	    function onRename(e, treeId, treeNode, isCancel) {
		    showLog((isCancel ? "<span style='color:red'>":"") + "[ "+getTime()+" onRename ]&nbsp;&nbsp;&nbsp;&nbsp; " + treeNode.name + (isCancel ? "</span>":""));
	    }
	    function showRemoveBtn(treeId, treeNode) {
	    	//只能删除子菜单
		    return !treeNode.isParent;
	    }
	    function showRenameBtn(treeId, treeNode) {
		    return !treeNode.isParent;
	    }
	    function getTime() {
		    var now= new Date(),
			    h=now.getHours(),
			    m=now.getMinutes(),
			    s=now.getSeconds(),
			    ms=now.getMilliseconds();
		    return (h+":"+m+":"+s+ " " +ms);
	    }

	    var newCount = 1;
	    function addHoverDom(treeId, treeNode) {
		    var sObj = $("#" + treeNode.tId + "_span");

		    if (!treeNode.isParent|| $("#addBtn_"+treeNode.tId).length>0) {
			    return;
            }
		    var addStr = "<span class='button add' id='addBtn_" + treeNode.tId
			    + "' title='add node' onfocus='this.blur();'></span>";
		    sObj.after(addStr);
		    /*var btn = $("#addBtn_"+treeNode.tId);
		    if (btn) btn.bind("click", function(){
			    var zTree = $.fn.zTree.getZTreeObj("treeDemo");
			    zTree.addNodes(treeNode, {id:(100 + newCount), pId:treeNode.id, name:"new node" + (newCount++)});
			    return false;
		    });*/
	    };
	    function removeHoverDom(treeId, treeNode) {
		    $("#addBtn_"+treeNode.tId).unbind().remove();
	    };
	    function selectAll() {
		    var zTree = $.fn.zTree.getZTreeObj("treeDemo");
		    zTree.setting.edit.editNameSelectAll =  $("#selectAll").attr("checked");
	    }
        $(function () {
	        $.fn.zTree.init($("#treeDemo"), setting, zNodes);
	        $("#selectAll").bind("click", selectAll);
        })
    </script>-->

{% endblock%}