{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\admin\\controller\\base.js"
    ],
    "names": [
        "module",
        "exports",
        "think",
        "Controller",
        "__before",
        "userinfo",
        "session",
        "isEmpty",
        "ctx",
        "controller",
        "redirect",
        "menuList",
        "model",
        "order",
        "select",
        "commonFunion",
        "newMenu",
        "formatMenu",
        "shuiyanImgThumb",
        "shuiyanImgThumb2",
        "assign"
    ],
    "mappings": "AAAA;;;;;;;;AAA8D;AAC9DA,OAAOC,OAAP,GAAiB,cAAcC,MAAMC,UAApB,CAA+B;AACzCC,SAAN,GAAiB;AAAA;;AAAA;AAChB,OAAIC,WAAW,MAAM,MAAKC,OAAL,CAAa,UAAb,CAArB;AACA,OAAGJ,MAAMK,OAAN,CAAcF,QAAd,CAAH,EAA4B;AAC3B,QAAG,MAAKG,GAAL,CAASC,UAAT,IAAuB,OAA1B,EAAmC;AAClC,YAAO,MAAKC,QAAL,CAAc,cAAd,CAAP;AACA;AACD,IAJD,MAKK;AACJ,QAAIC,WAAW,MAAM,MAAKC,KAAL,CAAW,MAAX,EAAmBC,KAAnB,CAAyB,6BAAzB,EAAwDC,MAAxD,EAArB,CADI,CACmF;AACvF,QAAIC,eAAe,+BAAnB,CAFI,CAEgC;AACpC,QAAIC,UAAUD,aAAaE,UAAb,CAAwBN,QAAxB,CAAd;AACA,UAAMO,kBAAkB,gKAAxB,CAJI,CAIqL;AACzL,UAAMC,mBAAmB,0KAAzB;AACA,UAAKC,MAAL,CAAY;AACX,qBAAe,mCADJ;AAEX,wBAAmBF,eAFR;AAGX,yBAAmBC,gBAHR;AAIX,gBAAWH,OAJA,EAIS;AACpB,iBAAYX,QALD,CAKS;AALT,KAAZ;AAOA;AApBe;AAqBhB;AAtB8C,CAAhD",
    "file": "..\\..\\..\\src\\admin\\controller\\base.js",
    "sourcesContent": [
        "import commonFun from \"../common_function/common_function.js\";//自定义类 里面有自定义函数\nmodule.exports = class extends think.Controller {\n\tasync __before() {\n\t\tlet userinfo = await this.session('userinfo');\n\t\tif(think.isEmpty(userinfo)) {\n\t\t\tif(this.ctx.controller != 'login') {\n\t\t\t\treturn this.redirect('/admin/login');\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tlet menuList = await this.model('menu').order('menu_id ASC, menu_name DESC').select(); //从数据库取出菜单\n\t\t\tlet commonFunion = new commonFun(); //需要new一下才能用\n\t\t\tlet newMenu = commonFunion.formatMenu(menuList);\n\t\t\tconst shuiyanImgThumb = 'imageView2/1/w/320/h/320/interlace/1/q/75|watermark/2/text/5rC056CU5p2R/font/5qW35L2T/fontsize/500/fill/I0Y4RDdCOA==/dissolve/77/gravity/SouthEast/dx/10/dy/10';//七牛的缩略图处理\n\t\t\tconst shuiyanImgThumb2 = 'imageView2/1/w/320/h/160/interlace/1/q/75|watermark/2/text/5rC056CU5p2R/font/5qW35L2T/fontsize/500/fill/I0Y4RDdCOA==/dissolve/77/gravity/SouthEast/dx/10/dy/10|imageslim';\n\t\t\tthis.assign({\n\t\t\t\t'qiniuImgHost':'http://p2zln7xdx.bkt.clouddn.com/',\n\t\t\t\t'shuiyanImgThumb': shuiyanImgThumb,\n\t\t\t\t'shuiyanImgThumb2':shuiyanImgThumb2,\n\t\t\t\t'newMenu': newMenu, //赋值菜单\n\t\t\t\t'userinfo': userinfo//赋值用户登陆session\n\t\t\t});\n\t\t}\n\t}\n};\n"
    ]
}