{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\admin\\controller\\base.js"
    ],
    "names": [
        "module",
        "exports",
        "think",
        "Controller",
        "__before",
        "userinfo",
        "session",
        "isEmpty",
        "ctx",
        "controller",
        "redirect",
        "menuList",
        "model",
        "order",
        "select",
        "newMenu",
        "assign"
    ],
    "mappings": "AAAA;;;;AACAA,OAAOC,OAAP,GAAiB,cAAcC,MAAMC,UAApB,CAA+B;AACtCC,YAAN,GAAiB;AAAA;;AAAA;AACf,gBAAIC,WAAS,MAAM,MAAKC,OAAL,CAAa,UAAb,CAAnB;AACA,gBAAGJ,MAAMK,OAAN,CAAcF,QAAd,CAAH,EAA2B;AACvB,oBAAG,MAAKG,GAAL,CAASC,UAAT,IAAuB,OAA1B,EAAkC;AAC9B,2BAAO,MAAKC,QAAL,CAAc,cAAd,CAAP;AACH;AACJ,aAJD,MAIM;AACF,oBAAIC,WAAS,MAAM,MAAKC,KAAL,CAAW,MAAX,EAAmBC,KAAnB,CAAyB,6BAAzB,EAAwDC,MAAxD,EAAnB,CADE,CACmF;AACrF,oBAAIC,UAAQ,iCAAWJ,QAAX,CAAZ;AACA,sBAAKK,MAAL,CAAY;AACR,+BAAUD,OADF,EACW;AACnB,gCAAWV,QAFH,CAEW;AAFX,iBAAZ;AAIH;AAbc;AAclB;AAf6C,CAAhD",
    "file": "..\\..\\..\\src\\admin\\controller\\base.js",
    "sourcesContent": [
        "import {formatMenu} from \"../common_function/common_function.js\";\nmodule.exports = class extends think.Controller {\n    async __before() {\n      let userinfo=await this.session('userinfo');\n      if(think.isEmpty(userinfo)){\n          if(this.ctx.controller != 'login'){\n              return this.redirect('/admin/login');\n          }\n      }else {\n          let menuList=await this.model('menu').order('menu_id ASC, menu_name DESC').select(); //从数据库取出菜单\n          let newMenu=formatMenu(menuList);\n          this.assign({\n              'newMenu':newMenu, //赋值菜单\n              'userinfo':userinfo//赋值用户登陆session\n          });\n      }\n  }\n};\n"
    ]
}