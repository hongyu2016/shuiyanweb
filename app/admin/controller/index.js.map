{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\admin\\controller\\index.js"
    ],
    "names": [
        "Base",
        "require",
        "request_p",
        "cheerio",
        "module",
        "exports",
        "indexAction",
        "articleNum",
        "model",
        "count",
        "assign",
        "display",
        "timingAction",
        "isCli",
        "fail",
        "$",
        "url",
        "transform",
        "load",
        "body",
        "content",
        "html",
        "console",
        "log"
    ],
    "mappings": ";;AAAA,MAAMA,OAAOC,QAAQ,WAAR,CAAb;AACA,MAAMC,YAAUD,QAAQ,iBAAR,CAAhB,C,CAA6C;AAC7C,MAAME,UAAUF,QAAQ,SAAR,CAAhB,C,CAAmC;AACnCG,OAAOC,OAAP,GAAiB,cAAcL,IAAd,CAAmB;AAC1BM,eAAN,GAAoB;AAAA;;AAAA;AAChB,gBAAIC,aAAa,MAAM,MAAKC,KAAL,CAAW,MAAX,EAAmBC,KAAnB,EAAvB,CADgB,CACmC;AACnD;AACA,kBAAKC,MAAL,CAAY,YAAZ,EAAyBH,UAAzB;AACA,mBAAO,MAAKI,OAAL,EAAP;AAJgB;AAKnB;AACD;;;;AAIMC,gBAAN,GAAoB;AAAA;;AAAA;AAChB;AACA,gBAAG,CAAC,OAAKC,KAAT,EAAgB,OAAO,OAAKC,IAAL,CAAU,IAAV,EAAgB,MAAhB,CAAP;AAChB,gBAAIC,IAAI,MAAMb,UAAU;AACpBc,qBAAI,mCADgB;AAEpBC,2BAAW;AAAA,2BAAQd,QAAQe,IAAR,CAAaC,IAAb,CAAR;AAAA;AAFS,aAAV,CAAd;AAIA,gBAAIC,UAAUL,EAAE,QAAF,EAAYM,IAAZ,EAAd;AACAC,oBAAQC,GAAR,CAAYH,OAAZ;AARgB;AASnB;;AApB+B,CAApC",
    "file": "..\\..\\..\\src\\admin\\controller\\index.js",
    "sourcesContent": [
        "const Base = require('./base.js');\nconst request_p=require('request-promise');  //请求\nconst cheerio = require('cheerio');//nodejs版本的jq\nmodule.exports = class extends Base {\n    async indexAction() {\n        let articleNum = await this.model('news').count(); //查询文章总数\n        //this.ctx.body=articleNum;\n        this.assign('articleNum',articleNum);\n        return this.display();\n    }\n    /*\n    * 定时任务\n    * */\n\n    async timingAction(){\n        // 如果不是定时任务调用，则拒绝 #定时爬取heroku当前地址  防止30分钟后休眠\n        if(!this.isCli) return this.fail(1000, 'deny');\n        let $ = await request_p({\n            url:'https://shuiyanweb.herokuapp.com/',\n            transform: body => cheerio.load(body)\n        });\n        let content = $('.login').html();\n        console.log(content);\n    }\n\n};\n"
    ]
}