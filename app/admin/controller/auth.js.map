{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\admin\\controller\\auth.js"
    ],
    "names": [
        "Base",
        "require",
        "module",
        "exports",
        "constructor",
        "args",
        "indexAction",
        "display",
        "doaddAction",
        "isGet",
        "editId",
        "get",
        "role_name",
        "role_remark",
        "parms",
        "data",
        "modelInstance",
        "where",
        "edit",
        "json",
        "success",
        "errmsg",
        "addRole",
        "deleteAction",
        "id",
        "delete"
    ],
    "mappings": ";;AAAA;;;;AAIA,MAAMA,OAAKC,QAAQ,QAAR,CAAX;AACAC,OAAOC,OAAP,GAAiB,cAAcH,IAAd,CAAmB;AAChC;;;AAGAI,aAAY,GAAGC,IAAf,EAAqB;AACjB,QAAM,GAAGA,IAAT,EADiB,CACF;AACf;AACH;AACD;;;AAGMC,YAAN,GAAoB;AAAA;;AAAA;AAChB;AACA,UAAO,MAAKC,OAAL,EAAP;AAFgB;AAGnB;;AAEKC,YAAN,GAAmB;AAAA;;AAAA;AACrB,OAAG,OAAKC,KAAR,EAAc;AACb,QAAIC,SAAO,OAAKC,GAAL,CAAS,QAAT,CAAX;AAAA,QACCC,YAAU,OAAKD,GAAL,CAAS,WAAT,CADX;AAAA,QAECE,cAAY,OAAKF,GAAL,CAAS,aAAT,CAFb;AAGA,QAAIG,QAAM;AACTJ,aAAOA,MADE;AAETE,gBAAUA,SAFD;AAGTC,kBAAYA;AAHH,KAAV;AAKA,QAAGH,UAAQ,CAAR,IAAaA,UAAQ,GAAxB,EAA4B;AAC3B;AACA,SAAIK,OAAK,MAAM,OAAKC,aAAL,CAAmBC,KAAnB,CAAyB,EAAC,WAAUP,MAAX,EAAzB,EAA6CQ,IAA7C,CAAkDJ,KAAlD,CAAf;AACA,SAAGC,IAAH,EAAQ;AACP,aAAKI,IAAL,CAAU;AACTC,gBAAQ,IADC;AAETC,eAAO,MAFE;AAGTN,aAAKA;AAHI,OAAV;AAKA,MAND,MAMK;AACJ,aAAKI,IAAL,CAAU;AACTC,gBAAQ,KADC;AAETC,eAAO,MAFE;AAGTN,aAAK;AAHI,OAAV;AAKA;AACD,KAhBD,MAgBK;AACJ,SAAIA,OAAK,MAAM,OAAKC,aAAL,CAAmBM,OAAnB,CAA2BR,KAA3B,CAAf;AACA,SAAGC,IAAH,EAAQ;AACP,aAAKI,IAAL,CAAU;AACTC,gBAAQ,IADC;AAETC,eAAO,MAFE;AAGTN,aAAKA;AAHI,OAAV;AAKA,MAND,MAMK;AACJ,aAAKI,IAAL,CAAU;AACTC,gBAAQ,KADC;AAETC,eAAO,MAFE;AAGTN,aAAK;AAHI,OAAV;AAKA;AACD;AACD;AA1CoB;AA2ClB;;AAEJ;;;AAGMQ,aAAN,GAAoB;AAAA;;AAAA;AACnB,OAAG,OAAKd,KAAR,EAAc;AACb,QAAIe,KAAG,OAAKb,GAAL,CAAS,IAAT,CAAP;AACA,QAAII,OAAK,MAAM,OAAKC,aAAL,CAAmBC,KAAnB,CAAyB,EAAC,WAAUO,EAAX,EAAzB,EAAyCC,MAAzC,EAAf;AACA,QAAGV,IAAH,EAAQ;AACP,YAAKI,IAAL,CAAU;AACTC,eAAQ,IADC;AAETC,cAAO,QAFE;AAGTN,YAAKA;AAHI,MAAV;AAKA,KAND,MAMK;AACJ,YAAKI,IAAL,CAAU;AACTC,eAAQ,KADC;AAETC,cAAO,QAFE;AAGTN,YAAK;AAHI,MAAV;AAKA;AACD;AAjBkB;AAkBnB;;AAlFkC,CAApC",
    "file": "..\\..\\..\\src\\admin\\controller\\auth.js",
    "sourcesContent": [
        "/**\n * Created by Administrator on 2017/11/17.\n * 权限管理\n */\nconst Base=require('./base');\nmodule.exports = class extends Base {\n    /*\n    * 构造函数 便于使用model文件\n    * */\n    constructor(...args) {\n        super(...args);//调用父级的 constructor 方法\n        //this.modelInstance = this.model('role'); //增加一个方法\n    }\n    /*\n    * 栏目列表\n    * */\n    async indexAction() {\n        //显示页面\n        return this.display();\n    }\n\n    async doaddAction(){\n\t\tif(this.isGet){\n\t\t\tlet editId=this.get('editId'),\n\t\t\t\trole_name=this.get('role_name'),\n\t\t\t\trole_remark=this.get('role_remark');\n\t\t\tlet parms={\n\t\t\t\teditId:editId,\n\t\t\t\trole_name:role_name,\n\t\t\t\trole_remark:role_remark\n\t\t\t};\n\t\t\tif(editId!=0 || editId!='0'){\n\t\t\t\t//编辑\n\t\t\t\tlet data=await this.modelInstance.where({'role_id':editId}).edit(parms);\n\t\t\t\tif(data){\n\t\t\t\t\tthis.json({\n\t\t\t\t\t\tsuccess:true,\n\t\t\t\t\t\terrmsg:'编辑成功',\n\t\t\t\t\t\tdata:data\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tthis.json({\n\t\t\t\t\t\tsuccess:false,\n\t\t\t\t\t\terrmsg:'编辑失败',\n\t\t\t\t\t\tdata:[]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tlet data=await this.modelInstance.addRole(parms);\n\t\t\t\tif(data){\n\t\t\t\t\tthis.json({\n\t\t\t\t\t\tsuccess:true,\n\t\t\t\t\t\terrmsg:'新增成功',\n\t\t\t\t\t\tdata:data\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tthis.json({\n\t\t\t\t\t\tsuccess:false,\n\t\t\t\t\t\terrmsg:'新增失败',\n\t\t\t\t\t\tdata:[]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n    }\n\n\t/*\n\t * 删除角色\n\t * */\n\tasync deleteAction(){\n\t\tif(this.isGet){\n\t\t\tlet id=this.get('id');\n\t\t\tlet data=await this.modelInstance.where({'role_id':id}).delete();\n\t\t\tif(data){\n\t\t\t\tthis.json({\n\t\t\t\t\tsuccess:true,\n\t\t\t\t\terrmsg:'删除角色成功',\n\t\t\t\t\tdata:data\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tthis.json({\n\t\t\t\t\tsuccess:false,\n\t\t\t\t\terrmsg:'删除角色失败',\n\t\t\t\t\tdata:[]\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n};\n"
    ]
}