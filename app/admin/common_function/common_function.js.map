{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\admin\\common_function\\common_function.js"
    ],
    "names": [
        "commonFun",
        "formatMenu",
        "list",
        "arr",
        "map",
        "item",
        "index",
        "parent_menu",
        "o",
        "find",
        "x",
        "menu_id",
        "child_menu",
        "push",
        "Object",
        "assign",
        "formatAuthMenu",
        "tree",
        "ary",
        "datalist",
        "data",
        "tempAry",
        "idList",
        "forEach",
        "deb",
        "flag",
        "ida",
        "i",
        "len",
        "length",
        "parent_id",
        "undefined",
        "obj",
        "auth_name",
        "auth_id",
        "open",
        "temp",
        "constructor",
        "Array",
        "j",
        "lenA",
        "children",
        "n",
        "lenB",
        "treeData",
        "getSrc",
        "content",
        "imgReg",
        "srcReg",
        "match",
        "imgSrcArr",
        "src",
        "module",
        "exports"
    ],
    "mappings": "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",
    "file": "..\\..\\..\\src\\admin\\common_function\\common_function.js",
    "sourcesContent": [
        "class commonFun{\r\n\t/*\r\n\t* 菜单处理\r\n\t* */\r\n\tformatMenu(list){\r\n\t\tlet arr = [];\r\n\t\tlist.map(function(item, index) {\r\n\t\t\tif (item.parent_menu == -1) {\r\n\t\t\t\tlet o = arr.find(x => {\r\n\t\t\t\t\treturn x.menu_id == item.menu_id\r\n\t\t\t\t});\r\n\t\t\t\tif (!o) {\r\n\t\t\t\t\to = {\r\n\t\t\t\t\t\tchild_menu: []\r\n\t\t\t\t\t}\r\n\t\t\t\t\tarr.push(o)\r\n\t\t\t\t}\r\n\t\t\t\tObject.assign(o, item)\r\n\r\n\t\t\t}else{\r\n\t\t\t\tlet o=arr.find(x=>{\r\n\t\t\t\t\treturn x.menu_id==item.parent_menu;\r\n\t\t\t\t});\r\n\t\t\t\tif(!o){\r\n\t\t\t\t\to={\r\n\t\t\t\t\t\tchild_menu:[item],\r\n\t\t\t\t\t\tmenu_id:item.parent_menu\r\n\t\t\t\t\t};\r\n\t\t\t\t\tarr.push(o)\r\n\t\t\t\t}else{\r\n\t\t\t\t\to.child_menu.push(item)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t\treturn arr;\r\n\t}\r\n\t/*\r\n\t* 权限管理 查询权限表，重新组成权限树\r\n\t* */\r\n\tformatAuthMenu(list){\r\n\r\n\t\t/*var aaa= [\r\n\t\t\t{auth_name:'wwb',menu_id:111},\r\n\t\t\t{auth_name:'aaa',menu_id:0,parent_id:\"mei\"},\r\n\t\t\t{auth_name:'a',menu_id:1,parent_id:\"mei\"},\r\n\t\t\t{auth_name:'b',menu_id:2,parent_id:1},\r\n\t\t\t{auth_name:'c',menu_id:3,parent_id:1},\r\n\t\t\t{auth_name:'d',menu_id:4,parent_id:2},\r\n\t\t\t{auth_name:'e',menu_id:5,parent_id:2}\r\n\t\t];*/\r\n\r\n\t\tfunction tree(ary,datalist){\r\n\r\n\t\t\tlet data=datalist?datalist:(function(ary){\r\n\t\t\t\t\tlet tempAry=[];\r\n\t\t\t\t\tlet idList=[];\r\n\t\t\t\t\tary.forEach(function(item){\r\n\t\t\t\t\t\tidList.push(item.menu_id)\r\n\t\t\t\t\t});\r\n\t\t\t\t\tfunction deb(menu_id,idList){\r\n\t\t\t\t\t\tlet flag=true;\r\n\t\t\t\t\t\tfor(let ida in idList){\r\n\t\t\t\t\t\t\tif(menu_id==idList[ida]){\r\n\t\t\t\t\t\t\t\tflag=false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn flag;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor(let i=0,len=ary.length;i<len;i++){\r\n\t\t\t\t\t\tif(ary[i].parent_id==undefined||(ary[i].parent_id!=undefined&&deb(ary[i].parent_id,idList))){\r\n\t\t\t\t\t\t\tlet obj={\r\n\t\t\t\t\t\t\t\tauth_name:ary[i].auth_name,\r\n\t\t\t\t\t\t\t\tmenu_id:ary[i].menu_id,\r\n\t\t\t\t\t\t\t\tauth_id:ary[i].auth_id,\r\n\t\t\t\t\t\t\t\tparent_id:ary[i].parent_id,\r\n\t\t\t\t\t\t\t\topen:false\r\n\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\ttempAry.push(obj);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn tempAry;\r\n\t\t\t\t}(ary));\r\n\r\n\t\t\tlet temp=0;\r\n\t\t\tif(data.constructor==Array){\r\n\t\t\t\tfor(let i=0,len=data.length;i<len;i++){\r\n\t\t\t\t\tfor(let j=0,lenA=ary.length;j<lenA;j++){\r\n\t\t\t\t\t\tif(ary[j].parent_id==data[i].menu_id){\r\n\t\t\t\t\t\t\tlet obj={\r\n\t\t\t\t\t\t\t\tauth_name:ary[j].auth_name,\r\n\t\t\t\t\t\t\t\tmenu_id:ary[j].menu_id,\r\n\t\t\t\t\t\t\t\tauth_id:ary[j].auth_id,\r\n\t\t\t\t\t\t\t\tparent_id:ary[j].parent_id,\r\n\t\t\t\t\t\t\t\topen:false\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tdata[i].children=data[i].children||[];\r\n\t\t\t\t\t\t\tdata[i].children.push(obj);\r\n\t\t\t\t\t\t\ttemp++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(temp>0){\r\n\t\t\t\tif(data.constructor==Array){\r\n\t\t\t\t\tfor(let n=0,lenB=data.length;n<lenB;n++){\r\n\t\t\t\t\t\tdata[n].children=tree(ary,data[n].children?data[n].children:[]);\r\n\t\t\t\t\t\tif(data[n].children.length==0){\r\n\t\t\t\t\t\t\t//delete data[n].children;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//delete data[n].menu_id;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tfor(let n=0,lenB=data.length;n<lenB;n++){\r\n\t\t\t\t\t//delete data[n].menu_id;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\t\tlet treeData=tree(list);\r\n\t\treturn treeData;\r\n\r\n\r\n\t}\r\n\t/*\r\n\t* 提取富文本提交内容中的src\r\n\t* */\r\n\tgetSrc(content){\r\n\t\tlet imgReg = /<img.*?(?:>|\\/>)/gi; //取出内容中的img正则\r\n\t\t//匹配src属性\r\n\t\tlet srcReg = /src=[\\'\\\"]?([^\\'\\\"]*)[\\'\\\"]?/i;  //取出img 的src的正则\r\n\t\tlet arr = content.match(imgReg);  //得到图片数组\r\n\t\tif(arr){\r\n\t\t\tlet imgSrcArr=[];  //最后组装 图片的src的地址数组\r\n\t\t\tfor (let i = 0; i < arr.length; i++) {\r\n\t\t\t\tlet src = arr[i].match(srcReg);\r\n\t\t\t\t//获取图片地址\r\n\t\t\t\tif(src[1]){\r\n\t\t\t\t\timgSrcArr.push(src[1])\r\n\t\t\t\t}\r\n\t\t\t\t//当然你也可以替换src属性\r\n\t\t\t\t/*if (src[0]) {\r\n\t\t\t\t let t = src[0].replace(/src/i, \"href\");\r\n\t\t\t\t }*/\r\n\t\t\t}\r\n\t\t\treturn imgSrcArr;\r\n\t\t}else{\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t}\r\n}\r\nmodule.exports =commonFun;\r\n"
    ]
}