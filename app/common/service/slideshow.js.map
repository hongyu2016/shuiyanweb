{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\common\\service\\slideshow.js"
    ],
    "names": [
        "qiniu",
        "require",
        "module",
        "exports",
        "think",
        "Service",
        "constructor",
        "key",
        "secret",
        "localFile",
        "putfileQiniu",
        "console",
        "log",
        "accessKey",
        "secretKey",
        "mac",
        "auth",
        "digest",
        "Mac",
        "options",
        "scope",
        "putPolicy",
        "rs",
        "PutPolicy",
        "uploadToken",
        "config",
        "conf",
        "Config",
        "zone",
        "Zone_z0",
        "formUploader",
        "form_up",
        "FormUploader",
        "putExtra",
        "PutExtra",
        "deferred",
        "defer",
        "putFile",
        "respErr",
        "respBody",
        "respInfo",
        "statusCode"
    ],
    "mappings": ";;AAAA;;;AAGA,MAAMA,QAAMC,QAAQ,OAAR,CAAZ;AACAC,OAAOC,OAAP,GAAiB,cAAcC,MAAMC,OAApB,CAA4B;AAC5CC,aAAYC,GAAZ,EAAiBC,MAAjB,EAAyB;AACxB;AACA,OAAKC,SAAL,GAAiBA,SAAjB;AACA,OAAKF,GAAL,GAAWA,GAAX;AACA;AACKG,aAAN,GAAqB;AAAA;;AAAA;AACpBC,WAAQC,GAAR,CAAY,MAAKH,SAAjB;;AAEA,UAAO,KAAP;;AAEA,SAAMI,YAAY,0CAAlB;AACA,SAAMC,YAAY,0CAAlB;AACA,SAAMC,MAAM,IAAIf,MAAMgB,IAAN,CAAWC,MAAX,CAAkBC,GAAtB,CAA0BL,SAA1B,EAAqCC,SAArC,CAAZ;AACA,OAAIK,UAAU;AACbC,WAAO,OADM,CACI;AADJ,IAAd;AAGA,OAAIC,YAAY,IAAIrB,MAAMsB,EAAN,CAASC,SAAb,CAAuBJ,OAAvB,CAAhB;AACA,OAAIK,cAAYH,UAAUG,WAAV,CAAsBT,GAAtB,CAAhB,CAZoB,CAYwB;;AAE5C,OAAIU,SAAS,IAAIzB,MAAM0B,IAAN,CAAWC,MAAf,EAAb;AACA;AACAF,UAAOG,IAAP,GAAc5B,MAAM4B,IAAN,CAAWC,OAAzB,CAhBoB,CAgBc;AAClC;AACA;AACA;AACA;;AAEA,SAAMC,eAAe,IAAI9B,MAAM+B,OAAN,CAAcC,YAAlB,CAA+BP,MAA/B,CAArB;AACA,SAAMQ,WAAW,IAAIjC,MAAM+B,OAAN,CAAcG,QAAlB,EAAjB;;AAEA,OAAIC,WAAW/B,MAAMgC,KAAN,EAAf;;AAEAN,gBAAaO,OAAb,CAAqBb,WAArB,EAAkCjB,GAAlC,EAAuCE,SAAvC,EAAkDwB,QAAlD,EAA4D,UAASK,OAAT,EAAiBC,QAAjB,EAA2BC,QAA3B,EAAoC;AAC/F,QAAIF,OAAJ,EAAa;AACZ,WAAMA,OAAN;AAEA;AACD,QAAIE,SAASC,UAAT,IAAuB,GAA3B,EAAgC;AAC/B;;;;AAKA,KAND,MAMO;AACN9B,aAAQC,GAAR,CAAY4B,SAASC,UAArB;AACA9B,aAAQC,GAAR,CAAY2B,QAAZ;AAEA;AACD;AACA,IAjBD;;AAmBA;;AA9CoB;AAiDpB;AAvD2C,CAA7C",
    "file": "..\\..\\..\\src\\common\\service\\slideshow.js",
    "sourcesContent": [
        "/**\r\n * Created by Administrator on 2018/1/23.\r\n */\r\nconst qiniu=require('qiniu');\r\nmodule.exports = class extends think.Service {\r\n\tconstructor(key, secret) {\r\n\t\tsuper();\r\n\t\tthis.localFile = localFile;\r\n\t\tthis.key = key;\r\n\t}\r\n\tasync putfileQiniu() {\r\n\t\tconsole.log(this.localFile)\r\n\r\n\t\treturn false\r\n\r\n\t\tconst accessKey = 'If1SWAP60HYq8YUtCWSvgNiL-dvIh_sjVgS3-YPc';\r\n\t\tconst secretKey = 'CBcrPNhdn17uTo5fKT3lx-bBgqRI5TFeDs-dizET';\r\n\t\tconst mac = new qiniu.auth.digest.Mac(accessKey, secretKey);\r\n\t\tlet options = {\r\n\t\t\tscope: 'iyuge',  //空间名称\r\n\t\t};\r\n\t\tlet putPolicy = new qiniu.rs.PutPolicy(options);\r\n\t\tlet uploadToken=putPolicy.uploadToken(mac); //创建一个token\r\n\r\n\t\tlet config = new qiniu.conf.Config();\r\n\t\t// 空间对应的机房\r\n\t\tconfig.zone = qiniu.zone.Zone_z0; //华东\r\n\t\t// 是否使用https域名\r\n\t\t//config.useHttpsDomain = true;\r\n\t\t// 上传是否使用cdn加速\r\n\t\t//config.useCdnDomain = true;\r\n\r\n\t\tconst formUploader = new qiniu.form_up.FormUploader(config);\r\n\t\tconst putExtra = new qiniu.form_up.PutExtra();\r\n\r\n\t\tlet deferred = think.defer();\r\n\r\n\t\tformUploader.putFile(uploadToken, key, localFile, putExtra, function(respErr,respBody, respInfo){\r\n\t\t\tif (respErr) {\r\n\t\t\t\tthrow respErr;\r\n\r\n\t\t\t}\r\n\t\t\tif (respInfo.statusCode == 200) {\r\n\t\t\t\t/*deferred.resolve({\r\n\t\t\t\t\tsuccess: respBody\r\n\t\t\t\t});*/\r\n\r\n\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(respInfo.statusCode);\r\n\t\t\t\tconsole.log(respBody);\r\n\r\n\t\t\t}\r\n\t\t\t//return deferred.promise;\r\n\t\t});\r\n\r\n\t\t//return await putfileQiniu(localFile,key);\r\n\r\n\r\n\t}\r\n};"
    ]
}