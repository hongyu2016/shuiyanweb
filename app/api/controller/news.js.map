{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\api\\controller\\news.js"
    ],
    "names": [
        "Base",
        "require",
        "module",
        "exports",
        "indexAction",
        "newslistAction",
        "isGet",
        "pageIndex",
        "get",
        "data",
        "model",
        "list",
        "json",
        "success",
        "errmsg",
        "detailAction",
        "id",
        "detail",
        "where",
        "article_id",
        "find"
    ],
    "mappings": ";;AAAA,MAAMA,OAAOC,QAAQ,WAAR,CAAb;;AAEAC,OAAOC,OAAP,GAAiB,cAAcH,IAAd,CAAmB;AAC7BI,YAAN,GAAoB;AAAA;AAEhB;AACKC,eAAN,GAAsB;AAAA;;AAAA;AACxB,OAAG,MAAKC,KAAR,EAAc;AACb,QAAIC,YAAU,MAAKC,GAAL,CAAS,MAAT,CAAd;AACA,UAAMC,OAAO,MAAM,MAAKC,KAAL,CAAW,MAAX,EAAmBC,IAAnB,CAAwBJ,SAAxB,CAAnB,CAFa,CAE4C;AACzD,QAAGE,IAAH,EAAQ;AACP,WAAKG,IAAL,CAAU;AACTC,eAAQ,IADC;AAETC,cAAO,UAFE;AAGTL,YAAKA;AAHI,MAAV;AAKA,KAND,MAMK;AACJ,WAAKG,IAAL,CAAU;AACTC,eAAQ,IADC;AAETC,cAAO,UAFE;AAGTL,YAAK;AAHI,MAAV;AAKA;AACD,IAhBD,MAgBM;AACL,UAAKG,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,UAFE;AAGTL,WAAK;AAHI,KAAV;AAKA;AAvBuB;AAyBrB;AACKM,aAAN,GAAoB;AAAA;;AAAA;AACtB,OAAIC,KAAG,OAAKR,GAAL,CAAS,SAAT,CAAP;AACA,OAAG,CAACQ,EAAJ,EAAO;AACN,WAAKJ,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,UAFE;AAGTL,WAAK;AAHI,KAAV;AAKA,WAAO,KAAP;AACA;AACK,OAAIQ,SAAO,MAAM,OAAKP,KAAL,CAAW,MAAX,EACZQ,KADY,CACN,EAACC,YAAWH,EAAZ,EADM,EACWI,IADX,EAAjB;AAEA,OAAGH,MAAH,EAAU;AACT,WAAKL,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,QAFE;AAGTL,WAAKQ;AAHI,KAAV;AAKA,IAND,MAMK;AACJ,WAAKL,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,QAFE;AAGTL,WAAK;AAHI,KAAV;AAKA;AAxBe;AA0BnB;AAxD+B,CAApC",
    "file": "..\\..\\..\\src\\api\\controller\\news.js",
    "sourcesContent": [
        "const Base = require('./base.js');\r\n\r\nmodule.exports = class extends Base {\r\n\tasync indexAction() {\r\n\r\n    }\r\n    async newslistAction(){\r\n\t\tif(this.isGet){\r\n\t\t\tlet pageIndex=this.get('page');\r\n\t\t\tconst data = await this.model('news').list(pageIndex);   ////  两个表的字段重复了\r\n\t\t\tif(data){\r\n\t\t\t\tthis.json({\r\n\t\t\t\t\tsuccess:true,\r\n\t\t\t\t\terrmsg:'获取文章列表成功',\r\n\t\t\t\t\tdata:data\r\n\t\t\t\t})\r\n\t\t\t}else{\r\n\t\t\t\tthis.json({\r\n\t\t\t\t\tsuccess:true,\r\n\t\t\t\t\terrmsg:'获取文章列表失败',\r\n\t\t\t\t\tdata:[]\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tthis.json({\r\n\t\t\t\tsuccess:true,\r\n\t\t\t\terrmsg:'请使用get方法',\r\n\t\t\t\tdata:[]\r\n\t\t\t})\r\n\t\t}\r\n\r\n    }\r\n    async detailAction(){\r\n\t\tlet id=this.get('news_id');\r\n\t\tif(!id){\r\n\t\t\tthis.json({\r\n\t\t\t\tsuccess:true,\r\n\t\t\t\terrmsg:'文章id不能为空',\r\n\t\t\t\tdata:[]\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t}\r\n        let detail=await this.model('news')\r\n            .where({article_id:id}).find();\r\n        if(detail){\r\n\t        this.json({\r\n\t\t        success:true,\r\n\t\t        errmsg:'获取文章成功',\r\n\t\t        data:detail\r\n\t        })\r\n        }else{\r\n\t        this.json({\r\n\t\t        success:true,\r\n\t\t        errmsg:'获取文章失败',\r\n\t\t        data:[]\r\n\t        })\r\n        }\r\n\r\n    }\r\n};\r\n"
    ]
}