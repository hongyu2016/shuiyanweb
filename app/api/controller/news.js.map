{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\api\\controller\\news.js"
    ],
    "names": [
        "Base",
        "require",
        "module",
        "exports",
        "indexAction",
        "newslistAction",
        "isGet",
        "pageIndex",
        "get",
        "data",
        "model",
        "list",
        "json",
        "success",
        "errmsg",
        "detailAction",
        "id",
        "detail",
        "where",
        "article_id",
        "find"
    ],
    "mappings": ";;AAAA,MAAMA,OAAOC,QAAQ,WAAR,CAAb;;AAEAC,OAAOC,OAAP,GAAiB,cAAcH,IAAd,CAAmB;AAC7BI,YAAN,GAAoB;AAAA;AAEhB;AACKC,eAAN,GAAsB;AAAA;;AAAA;AACxB,OAAG,MAAKC,KAAR,EAAc;AACb,QAAIC,YAAU,MAAKC,GAAL,CAAS,MAAT,CAAd;AACA,UAAMC,OAAO,MAAM,MAAKC,KAAL,CAAW,MAAX,EAAmBC,IAAnB,CAAwBJ,SAAxB,CAAnB,CAFa,CAE4C;AACzD,QAAGE,IAAH,EAAQ;AACP,WAAKG,IAAL,CAAU;AACTC,eAAQ,IADC;AAETC,cAAO,UAFE;AAGTL,YAAKA;AAHI,MAAV;AAKA,KAND,MAMK;AACJ,WAAKG,IAAL,CAAU;AACTC,eAAQ,IADC;AAETC,cAAO,UAFE;AAGTL,YAAK;AAHI,MAAV;AAKA;AACD,IAhBD,MAgBM;AACL,UAAKG,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,UAFE;AAGTL,WAAK;AAHI,KAAV;AAKA;AAvBuB;AAyBrB;AACKM,aAAN,GAAoB;AAAA;;AAAA;AACtB,OAAIC,KAAG,OAAKR,GAAL,CAAS,SAAT,CAAP;AACA,OAAG,CAACQ,EAAJ,EAAO;AACN,WAAKJ,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,UAFE;AAGTL,WAAK;AAHI,KAAV;AAKA,WAAO,KAAP;AACA;AACK,OAAIQ,SAAO,MAAM,OAAKP,KAAL,CAAW,MAAX,EACZQ,KADY,CACN,EAACC,YAAWH,EAAZ,EADM,EACWI,IADX,EAAjB;AAEA,OAAGH,MAAH,EAAU;AACT,WAAKL,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,QAFE;AAGTL,WAAKQ;AAHI,KAAV;AAKA,IAND,MAMK;AACJ,WAAKL,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,QAFE;AAGTL,WAAK;AAHI,KAAV;AAKA;AAxBe;AA0BnB;AAxD+B,CAApC",
    "file": "..\\..\\..\\src\\api\\controller\\news.js",
    "sourcesContent": [
        "const Base = require('./base.js');\n\nmodule.exports = class extends Base {\n\tasync indexAction() {\n\n    }\n    async newslistAction(){\n\t\tif(this.isGet){\n\t\t\tlet pageIndex=this.get('page');\n\t\t\tconst data = await this.model('news').list(pageIndex);   ////  两个表的字段重复了\n\t\t\tif(data){\n\t\t\t\tthis.json({\n\t\t\t\t\tsuccess:true,\n\t\t\t\t\terrmsg:'获取文章列表成功',\n\t\t\t\t\tdata:data\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\tthis.json({\n\t\t\t\t\tsuccess:true,\n\t\t\t\t\terrmsg:'获取文章列表失败',\n\t\t\t\t\tdata:[]\n\t\t\t\t})\n\t\t\t}\n\t\t}else {\n\t\t\tthis.json({\n\t\t\t\tsuccess:true,\n\t\t\t\terrmsg:'请使用get方法',\n\t\t\t\tdata:[]\n\t\t\t})\n\t\t}\n\n    }\n    async detailAction(){\n\t\tlet id=this.get('news_id');\n\t\tif(!id){\n\t\t\tthis.json({\n\t\t\t\tsuccess:true,\n\t\t\t\terrmsg:'文章id不能为空',\n\t\t\t\tdata:[]\n\t\t\t});\n\t\t\treturn false;\n\t\t}\n        let detail=await this.model('news')\n            .where({article_id:id}).find();\n        if(detail){\n\t        this.json({\n\t\t        success:true,\n\t\t        errmsg:'获取文章成功',\n\t\t        data:detail\n\t        })\n        }else{\n\t        this.json({\n\t\t        success:true,\n\t\t        errmsg:'获取文章失败',\n\t\t        data:[]\n\t        })\n        }\n\n    }\n};\n"
    ]
}