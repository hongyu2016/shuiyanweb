{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\api\\controller\\index.js"
    ],
    "names": [
        "Base",
        "require",
        "module",
        "exports",
        "indexAction",
        "indexData",
        "intro",
        "model",
        "find",
        "news",
        "limit",
        "order",
        "select",
        "forEach",
        "c",
        "i",
        "a",
        "create_time",
        "think",
        "datetime",
        "json",
        "success",
        "errmsg",
        "data",
        "slideAction",
        "slideList",
        "where",
        "datalist",
        "noticeAction",
        "notice",
        "piclistAction",
        "friendlinkAction"
    ],
    "mappings": "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",
    "file": "..\\..\\..\\src\\api\\controller\\index.js",
    "sourcesContent": [
        "const Base = require('./base.js');\r\nmodule.exports = class extends Base {\r\n\tasync indexAction() {\r\n\t\tlet indexData=[];\r\n\t    let intro=await this.model('introduce').find(); //水研简介\r\n\t\tlet news=await this.model('news').limit(3).order('create_time DESC').select();//水研新闻\r\n\r\n\t\tnews.forEach((c,i,a)=>{//c为当前值 i为索引 a为原数组\r\n\t\t\ta[i].create_time=think.datetime(a[i].create_time, 'YYYY-MM-DD'); //返回年月日\r\n\t\t});\r\n\r\n\t\tindexData={intro:intro,news:news};\r\n\t\tif(intro&&news){\r\n\t\t\tthis.json({\r\n\t\t\t\tsuccess:true,\r\n\t\t\t\terrmsg:'获取成功',\r\n\t\t\t\tdata:{\r\n\t\t\t\t\tindexData:indexData\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}else {\r\n\t\t\tthis.json({\r\n\t\t\t\tsuccess:true,\r\n\t\t\t\terrmsg:'获取失败',\r\n\t\t\t\tdata:[]\r\n\t\t\t})\r\n\t\t}\r\n\r\n    }\r\n    /*\r\n    * 轮播图\r\n    * */\r\n    async slideAction(){\r\n        let slideList=await this.model('slideshow')\r\n            .where({'is_slide':'1'})\r\n            .order('slide_id ASC')\r\n            .limit(10).select();\r\n        if(slideList){\r\n\t        this.json({\r\n\t\t        success:true,\r\n\t\t        errmsg:'获取成功',\r\n\t\t        data:{\r\n\t\t\t        datalist:slideList\r\n\t\t        }\r\n\t        })\r\n        }else{\r\n\t        this.json({\r\n\t\t        success:true,\r\n\t\t        errmsg:'获取失败',\r\n\t\t        data:[]\r\n\t        })\r\n        }\r\n\r\n    }\r\n    /*\r\n    * 公告\r\n    * */\r\n    async noticeAction(){\r\n\t    let notice=await this.model('notice').limit(20).order('create_time DESC').select();\r\n\t    this.json({\r\n\t\t    success:true,\r\n\t\t    errmsg:'获取成功',\r\n\t\t    data:notice\r\n\t    })\r\n    }\r\n    /*\r\n    * 图库\r\n    * */\r\n    async piclistAction(){\r\n\t    let slideList=await this.model('slideshow')\r\n\t    .where({'is_slide':'0'})\r\n\t    .order('slide_id ASC')\r\n\t    .limit(12).select();\r\n\t    if(slideList){\r\n\t\t    this.json({\r\n\t\t\t    success:true,\r\n\t\t\t    errmsg:'获取成功',\r\n\t\t\t    data:{\r\n\t\t\t\t    datalist:slideList\r\n\t\t\t    }\r\n\t\t    })\r\n\t    }else{\r\n\t\t    this.json({\r\n\t\t\t    success:true,\r\n\t\t\t    errmsg:'获取失败',\r\n\t\t\t    data:[]\r\n\t\t    })\r\n\t    }\r\n\r\n    }\r\n    /*\r\n    * 友情链接\r\n    * */\r\n    async friendlinkAction(){\r\n    \tlet data=await this.model('friendlink').select();\r\n    \tif(data){\r\n\t\t    this.json({\r\n\t\t\t    success:true,\r\n\t\t\t    errmsg:'获取成功',\r\n\t\t\t    data:data\r\n\t\t    })\r\n\t    }else{\r\n\t\t    this.json({\r\n\t\t\t    success:true,\r\n\t\t\t    errmsg:'获取失败',\r\n\t\t\t    data:[]\r\n\t\t    })\r\n\t    }\r\n    }\r\n};\r\n"
    ]
}