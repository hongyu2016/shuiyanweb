{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\api\\controller\\index.js"
    ],
    "names": [
        "Base",
        "require",
        "module",
        "exports",
        "indexAction",
        "indexData",
        "intro",
        "model",
        "find",
        "news",
        "limit",
        "order",
        "select",
        "forEach",
        "c",
        "i",
        "a",
        "create_time",
        "think",
        "datetime",
        "json",
        "success",
        "errmsg",
        "data",
        "slideAction",
        "slideList",
        "where",
        "datalist",
        "noticeAction",
        "notice",
        "piclistAction"
    ],
    "mappings": ";;AAAA,MAAMA,OAAOC,QAAQ,WAAR,CAAb;AACAC,OAAOC,OAAP,GAAiB,cAAcH,IAAd,CAAmB;AAC7BI,YAAN,GAAoB;AAAA;;AAAA;AACnB,OAAIC,YAAU,EAAd;AACG,OAAIC,QAAM,MAAM,MAAKC,KAAL,CAAW,WAAX,EAAwBC,IAAxB,EAAhB,CAFgB,CAEgC;AACnD,OAAIC,OAAK,MAAM,MAAKF,KAAL,CAAW,MAAX,EAAmBG,KAAnB,CAAyB,CAAzB,EAA4BC,KAA5B,CAAkC,kBAAlC,EAAsDC,MAAtD,EAAf,CAHmB,CAG2D;;AAE9EH,QAAKI,OAAL,CAAa,UAACC,CAAD,EAAGC,CAAH,EAAKC,CAAL,EAAS;AAAC;AACtBA,MAAED,CAAF,EAAKE,WAAL,GAAiBC,MAAMC,QAAN,CAAeH,EAAED,CAAF,EAAKE,WAApB,EAAiC,YAAjC,CAAjB,CADqB,CAC4C;AACjE,IAFD;;AAIAZ,eAAU,EAACC,OAAMA,KAAP,EAAaG,MAAKA,IAAlB,EAAV;AACA,OAAGH,SAAOG,IAAV,EAAe;AACd,UAAKW,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,MAFE;AAGTC,WAAK;AACJlB,iBAAUA;AADN;AAHI,KAAV;AAOA,IARD,MAQM;AACL,UAAKe,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,MAFE;AAGTC,WAAK;AAHI,KAAV;AAKA;AAxBkB;AA0BhB;AACD;;;AAGMC,YAAN,GAAmB;AAAA;;AAAA;AACf,OAAIC,YAAU,MAAM,OAAKlB,KAAL,CAAW,WAAX,EACfmB,KADe,CACT,EAAC,YAAW,GAAZ,EADS,EAEff,KAFe,CAET,cAFS,EAGfD,KAHe,CAGT,EAHS,EAGLE,MAHK,EAApB;AAIA,OAAGa,SAAH,EAAa;AACZ,WAAKL,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,MAFE;AAGTC,WAAK;AACJI,gBAASF;AADL;AAHI,KAAV;AAOA,IARD,MAQK;AACJ,WAAKL,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,MAFE;AAGTC,WAAK;AAHI,KAAV;AAKA;AAnBc;AAqBlB;AACD;;;AAGMK,aAAN,GAAoB;AAAA;;AAAA;AACnB,OAAIC,SAAO,MAAM,OAAKtB,KAAL,CAAW,QAAX,EAAqBG,KAArB,CAA2B,EAA3B,EAA+BC,KAA/B,CAAqC,kBAArC,EAAyDC,MAAzD,EAAjB;AACA,UAAKQ,IAAL,CAAU;AACTC,aAAQ,IADC;AAETC,YAAO,MAFE;AAGTC,UAAKM;AAHI,IAAV;AAFmB;AAOnB;AACD;;;AAGMC,cAAN,GAAqB;AAAA;;AAAA;AACpB,OAAIL,YAAU,MAAM,OAAKlB,KAAL,CAAW,WAAX,EACnBmB,KADmB,CACb,EAAC,YAAW,GAAZ,EADa,EAEnBf,KAFmB,CAEb,cAFa,EAGnBD,KAHmB,CAGb,EAHa,EAGTE,MAHS,EAApB;AAIA,OAAGa,SAAH,EAAa;AACZ,WAAKL,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,MAFE;AAGTC,WAAK;AACJI,gBAASF;AADL;AAHI,KAAV;AAOA,IARD,MAQK;AACJ,WAAKL,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,MAFE;AAGTC,WAAK;AAHI,KAAV;AAKA;AAnBmB;AAqBpB;AAxF+B,CAApC",
    "file": "..\\..\\..\\src\\api\\controller\\index.js",
    "sourcesContent": [
        "const Base = require('./base.js');\nmodule.exports = class extends Base {\n\tasync indexAction() {\n\t\tlet indexData=[];\n\t    let intro=await this.model('introduce').find(); //水研简介\n\t\tlet news=await this.model('news').limit(3).order('create_time DESC').select();//水研新闻\n\n\t\tnews.forEach((c,i,a)=>{//c为当前值 i为索引 a为原数组\n\t\t\ta[i].create_time=think.datetime(a[i].create_time, 'YYYY-MM-DD'); //返回年月日\n\t\t});\n\n\t\tindexData={intro:intro,news:news};\n\t\tif(intro&&news){\n\t\t\tthis.json({\n\t\t\t\tsuccess:true,\n\t\t\t\terrmsg:'获取成功',\n\t\t\t\tdata:{\n\t\t\t\t\tindexData:indexData\n\t\t\t\t}\n\t\t\t})\n\t\t}else {\n\t\t\tthis.json({\n\t\t\t\tsuccess:true,\n\t\t\t\terrmsg:'获取失败',\n\t\t\t\tdata:[]\n\t\t\t})\n\t\t}\n\n    }\n    /*\n    * 轮播图\n    * */\n    async slideAction(){\n        let slideList=await this.model('slideshow')\n            .where({'is_slide':'1'})\n            .order('slide_id ASC')\n            .limit(10).select();\n        if(slideList){\n\t        this.json({\n\t\t        success:true,\n\t\t        errmsg:'获取成功',\n\t\t        data:{\n\t\t\t        datalist:slideList\n\t\t        }\n\t        })\n        }else{\n\t        this.json({\n\t\t        success:true,\n\t\t        errmsg:'获取失败',\n\t\t        data:[]\n\t        })\n        }\n\n    }\n    /*\n    * 公告\n    * */\n    async noticeAction(){\n\t    let notice=await this.model('notice').limit(20).order('create_time DESC').select();\n\t    this.json({\n\t\t    success:true,\n\t\t    errmsg:'获取成功',\n\t\t    data:notice\n\t    })\n    }\n    /*\n    * 图库\n    * */\n    async piclistAction(){\n\t    let slideList=await this.model('slideshow')\n\t    .where({'is_slide':'0'})\n\t    .order('slide_id ASC')\n\t    .limit(12).select();\n\t    if(slideList){\n\t\t    this.json({\n\t\t\t    success:true,\n\t\t\t    errmsg:'获取成功',\n\t\t\t    data:{\n\t\t\t\t    datalist:slideList\n\t\t\t    }\n\t\t    })\n\t    }else{\n\t\t    this.json({\n\t\t\t    success:true,\n\t\t\t    errmsg:'获取失败',\n\t\t\t    data:[]\n\t\t    })\n\t    }\n\n    }\n};\n"
    ]
}