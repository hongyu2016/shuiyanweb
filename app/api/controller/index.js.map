{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\api\\controller\\index.js"
    ],
    "names": [
        "Base",
        "require",
        "module",
        "exports",
        "indexAction",
        "indexData",
        "intro",
        "model",
        "find",
        "news",
        "limit",
        "order",
        "select",
        "json",
        "success",
        "errmsg",
        "data",
        "slideAction",
        "slideList",
        "where",
        "datalist",
        "noticeAction",
        "notice",
        "join",
        "piclistAction"
    ],
    "mappings": ";;AAAA,MAAMA,OAAOC,QAAQ,WAAR,CAAb;;AAEAC,OAAOC,OAAP,GAAiB,cAAcH,IAAd,CAAmB;AAC7BI,YAAN,GAAoB;AAAA;;AAAA;AACnB,OAAIC,YAAU,EAAd;AACG,OAAIC,QAAM,MAAM,MAAKC,KAAL,CAAW,WAAX,EAAwBC,IAAxB,EAAhB,CAFgB,CAEgC;AACnD,OAAIC,OAAK,MAAM,MAAKF,KAAL,CAAW,MAAX,EAAmBG,KAAnB,CAAyB,CAAzB,EAA4BC,KAA5B,CAAkC,kBAAlC,EAAsDC,MAAtD,EAAf,CAHmB,CAG2D;;AAE9EP,eAAU,EAACC,OAAMA,KAAP,EAAaG,MAAKA,IAAlB,EAAV;AACA,OAAGH,SAAOG,IAAV,EAAe;AACd,UAAKI,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,MAFE;AAGTC,WAAK;AACJX,iBAAUA;AADN;AAHI,KAAV;AAOA,IARD,MAQM;AACL,UAAKQ,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,MAFE;AAGTC,WAAK;AAHI,KAAV;AAKA;AApBkB;AAsBhB;AACD;;;AAGMC,YAAN,GAAmB;AAAA;;AAAA;AACf,OAAIC,YAAU,MAAM,OAAKX,KAAL,CAAW,WAAX,EACfY,KADe,CACT,EAAC,YAAW,GAAZ,EADS,EAEfR,KAFe,CAET,cAFS,EAGfD,KAHe,CAGT,EAHS,EAGLE,MAHK,EAApB;AAIA,OAAGM,SAAH,EAAa;AACZ,WAAKL,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,MAFE;AAGTC,WAAK;AACJI,gBAASF;AADL;AAHI,KAAV;AAOA,IARD,MAQK;AACJ,WAAKL,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,MAFE;AAGTC,WAAK;AAHI,KAAV;AAKA;AAnBc;AAqBlB;AACD;;;AAGMK,aAAN,GAAoB;AAAA;;AAAA;AACnB,OAAIC,SAAO,MAAM,OAAKf,KAAL,CAAW,MAAX,EAAmBgB,IAAnB,CAAwB,sDAAxB,EAAgFb,KAAhF,CAAsF,EAAtF,EAA0FC,KAA1F,CAAgG,0BAAhG,EAA4HC,MAA5H,EAAjB;AACA,UAAKC,IAAL,CAAU;AACTC,aAAQ,IADC;AAETC,YAAO,MAFE;AAGTC,UAAK;AACJI,eAASE;AADL;AAHI,IAAV;AAFmB;AASnB;AACD;;;AAGME,cAAN,GAAqB;AAAA;;AAAA;AACpB,OAAIN,YAAU,MAAM,OAAKX,KAAL,CAAW,WAAX,EACnBY,KADmB,CACb,EAAC,YAAW,GAAZ,EADa,EAEnBR,KAFmB,CAEb,cAFa,EAGnBD,KAHmB,CAGb,EAHa,EAGTE,MAHS,EAApB;AAIA,OAAGM,SAAH,EAAa;AACZ,WAAKL,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,MAFE;AAGTC,WAAK;AACJI,gBAASF;AADL;AAHI,KAAV;AAOA,IARD,MAQK;AACJ,WAAKL,IAAL,CAAU;AACTC,cAAQ,IADC;AAETC,aAAO,MAFE;AAGTC,WAAK;AAHI,KAAV;AAKA;AAnBmB;AAqBpB;AAtF+B,CAApC",
    "file": "..\\..\\..\\src\\api\\controller\\index.js",
    "sourcesContent": [
        "const Base = require('./base.js');\n\nmodule.exports = class extends Base {\n\tasync indexAction() {\n\t\tlet indexData=[];\n\t    let intro=await this.model('introduce').find(); //水研简介\n\t\tlet news=await this.model('news').limit(3).order('create_time DESC').select();//水研新闻\n\n\t\tindexData={intro:intro,news:news};\n\t\tif(intro&&news){\n\t\t\tthis.json({\n\t\t\t\tsuccess:true,\n\t\t\t\terrmsg:'获取成功',\n\t\t\t\tdata:{\n\t\t\t\t\tindexData:indexData\n\t\t\t\t}\n\t\t\t})\n\t\t}else {\n\t\t\tthis.json({\n\t\t\t\tsuccess:true,\n\t\t\t\terrmsg:'获取失败',\n\t\t\t\tdata:[]\n\t\t\t})\n\t\t}\n\n    }\n    /*\n    * 轮播图\n    * */\n    async slideAction(){\n        let slideList=await this.model('slideshow')\n            .where({'is_slide':'1'})\n            .order('slide_id ASC')\n            .limit(10).select();\n        if(slideList){\n\t        this.json({\n\t\t        success:true,\n\t\t        errmsg:'获取成功',\n\t\t        data:{\n\t\t\t        datalist:slideList\n\t\t        }\n\t        })\n        }else{\n\t        this.json({\n\t\t        success:true,\n\t\t        errmsg:'获取失败',\n\t\t        data:[]\n\t        })\n        }\n\n    }\n    /*\n    * 公告\n    * */\n    async noticeAction(){\n\t    let notice=await this.model('news').join('sy_news_sort ON sy_news_sort.sort_id=sy_news.sort_id').limit(20).order('sy_news.create_time DESC').select()\n\t    this.json({\n\t\t    success:true,\n\t\t    errmsg:'获取成功',\n\t\t    data:{\n\t\t\t    datalist:notice\n\t\t    }\n\t    })\n    }\n    /*\n    * 图库\n    * */\n    async piclistAction(){\n\t    let slideList=await this.model('slideshow')\n\t    .where({'is_slide':'0'})\n\t    .order('slide_id ASC')\n\t    .limit(12).select();\n\t    if(slideList){\n\t\t    this.json({\n\t\t\t    success:true,\n\t\t\t    errmsg:'获取成功',\n\t\t\t    data:{\n\t\t\t\t    datalist:slideList\n\t\t\t    }\n\t\t    })\n\t    }else{\n\t\t    this.json({\n\t\t\t    success:true,\n\t\t\t    errmsg:'获取失败',\n\t\t\t    data:[]\n\t\t    })\n\t    }\n\n    }\n};\n"
    ]
}