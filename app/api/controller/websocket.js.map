{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\api\\controller\\websocket.js"
    ],
    "names": [
        "Base",
        "require",
        "module",
        "exports",
        "constructor",
        "arg",
        "openAction",
        "data",
        "model",
        "limit",
        "select",
        "emit",
        "broadcast",
        "closeAction",
        "console",
        "log",
        "getNoticeAction",
        "thisVal",
        "wsData"
    ],
    "mappings": ";;AAAA,MAAMA,OAAOC,QAAQ,WAAR,CAAb;AACAC,OAAOC,OAAP,GAAiB,cAAcH,IAAd,CAAmB;AACnCI,aAAY,GAAGC,GAAf,EAAoB;AACnB,QAAM,GAAGA,GAAT;AACA;AACKC,WAAN,GAAmB;AAAA;;AAAA;AAClB,OAAIC,OAAK,MAAM,MAAKC,KAAL,CAAW,QAAX,EAAqBC,KAArB,GAA6BC,MAA7B,EAAf;AACA,SAAKC,IAAL,CAAU,YAAV,EAAwBJ,IAAxB,EAFkB,CAEY;AAC9B,SAAKK,SAAL,CAAe,QAAf,EAAyB,WAAzB,EAHkB,CAGoB;AAHpB;AAIlB;AACDC,eAAc;AACbC,UAAQC,GAAR,CAAY,WAAZ;AACA;AACKC,gBAAN,GAAuB;AAAA;;AAAA;AACtB;;;;AAIA,OAAIC,UAAQ,OAAKC,MAAjB;AACA,OAAGD,WAAS,QAAZ,EAAqB;AACpB,QAAIV,OAAK,MAAM,OAAKC,KAAL,CAAW,QAAX,EAAqBC,KAArB,GAA6BC,MAA7B,EAAf;AACA,WAAKE,SAAL,CAAe,YAAf,EAA6BL,IAA7B;AACA;AATqB;AAWtB;AAvBkC,CAApC",
    "file": "..\\..\\..\\src\\api\\controller\\websocket.js",
    "sourcesContent": [
        "const Base = require('./base.js');\r\nmodule.exports = class extends Base {\r\n\tconstructor(...arg) {\r\n\t\tsuper(...arg);\r\n\t}\r\n\tasync openAction() {\r\n\t\tlet data=await this.model('notice').limit().select();\r\n\t\tthis.emit('noticeList', data);//给当前 socket 发送事件\r\n\t\tthis.broadcast('joined', '新的连接成功加入!');//给所有的 socket 广播事件\r\n\t}\r\n\tcloseAction() {\r\n\t\tconsole.log('socket 关闭');\r\n\t}\r\n\tasync getNoticeAction(){\r\n\t\t/*console.log('获取客户端 addUser 事件发送的数据', this.wsData);\r\n\t\tconsole.log('获取当前 WebSocket 对象', this.websocket);\r\n\t\tconsole.log('判断当前请求是否是 WebSocket 请求', this.isWebsocket);*/\r\n\r\n\t\tlet thisVal=this.wsData;\r\n\t\tif(thisVal=='更改通知数据'){\r\n\t\t\tlet data=await this.model('notice').limit().select();\r\n\t\t\tthis.broadcast('noticeList', data);\r\n\t\t}\r\n\r\n\t}\r\n};\r\n"
    ]
}